#Bash Shell only! 

#Common
function importutility() {
	if [[ "$2" == "force" ]] || [[ "$2" == "-f" ]] || [[ "$2" == "--force" ]]
	then
		export FORCE_IMPORT_UTILITY=1
	fi
	source $BASH_PROFILE_PATH/utils/$1
	unset FORCE_IMPORT_UTILITY
}

# Usage : 	findbyname <filename to search in current directory>
# 			Or
#			findbyname <filename to search> <directory>
function findbyname() {
	if [ -z "$1" ]
	then
		echo "Usage: \nfindbyname <filename to search in current directory>\n or\nfindbyname <filename to search> <directory>"
		return
	fi

	if [ -z "$2" ]
	then
	 	#Assume only filename specified, search in current directory
		find . -name $1 2>/dev/null
	else
		find $2 -name $1 2>/dev/null
	fi
}

export karabinerconfigfile=/Users/$USER/.config/karabiner/karabiner.json
export globalgitignorefile=/Users/$USER/.gitignore

alias aliases='source $BASH_PROFILE_PATH/.all'
alias redoaliases='aliases'
alias refreshaliases='aliases'
alias sourcealiases='aliases'
alias wstorm='webstorm'
alias inteli='idea'
alias intelli='idea'
alias intellij='idea'

function gitsetglobalignorefile() {
	if [ -z "$1"]
	then
		git config --global core.excludesfile $globalgitignorefile
	else
		git config --global core.excludesfile $1
	fi
}

alias sublime='open -a "/Applications/Sublime Text.app"'
alias bbedit='open -a /Applications/BBEdit.app'
#Preferred text editor of choice : 
alias texteditor='bbedit'
alias refreshadb='source $BASH_PROFILE_PATH/.adb'
alias refreshpersonal='source $BASH_PROFILE_PATH/.personal'
alias refreshwork='source $BASH_PROFILE_PATH/.work'
alias refreshall='source $BASH_PROFILE_PATH/.all'
alias refresheverything='refreshall'
alias refreshgit='importutility git -f'
alias refreshrbt='importutility rbt -f'
alias refreshstring='importutility string -f'
alias refreshsystem='importutility system -f'
alias te='texteditor'
alias edit='texteditor'
alias editor='texteditor'
alias bundleid='findappbundleid'
alias appbundleid='findappbundleid'
alias cputemp='sudo powermetrics --samplers smc |grep -i "CPU die temperature"'


alias karabinerconfig='texteditor "$karabinerconfigfile"'
alias openkarabinerconfig='texteditor "$karabinerconfigfile"'
alias openadbalias='texteditor $BASH_PROFILE_PATH/.adb'
alias openaliasall='texteditor $BASH_PROFILE_PATH/.all'
alias openpersonalalias='texteditor $BASH_PROFILE_PATH/.personal'
alias openworkalias='texteditor $BASH_PROFILE_PATH/.work'
alias openallaliases='openworkalias; openpersonalalias; openaliasall; openadbalias;'

alias opengitglobalignorefile='texteditor $globalgitignorefile'
alias openglobalgitignorefile='texteditor $globalgitignorefile'
alias opengitignorefile='texteditor $globalgitignorefile'
alias python='/usr/bin/python3'

alias finddir='findfolder'
alias findfile='findbyname'


#adb aliases
source $BASH_PROFILE_PATH/.adb

#Personal aliases
source $BASH_PROFILE_PATH/.personal

#Work Aliases
source $BASH_PROFILE_PATH/.work

#Jetbrains IDEs
export PATH=$PATH:~/jetbrains-launchers/
